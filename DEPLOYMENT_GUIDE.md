# éƒ¨ç½²æŒ‡å— - Deployment Guide

æœ¬æŒ‡å—è¯¦ç»†è¯´æ˜å¦‚ä½•ä½¿ç”¨éƒ¨ç½²è„šæœ¬æ¥æ›´æ–°æœåŠ¡å™¨ä¸Šçš„å‰ç«¯å’Œåç«¯ä»£ç ã€‚

---

## ğŸ“š ç›®å½•

1. [è„šæœ¬æ¦‚è¿°](#è„šæœ¬æ¦‚è¿°)
2. [å‰ç«¯éƒ¨ç½²](#å‰ç«¯éƒ¨ç½²)
3. [åç«¯éƒ¨ç½²](#åç«¯éƒ¨ç½²)
4. [å·¥ä½œåŸç†](#å·¥ä½œåŸç†)
5. [å¸¸è§é—®é¢˜](#å¸¸è§é—®é¢˜)

---

## ğŸ”§ è„šæœ¬æ¦‚è¿°

é¡¹ç›®ä¸­æœ‰ä¸¤ä¸ªç‹¬ç«‹çš„éƒ¨ç½²è„šæœ¬ï¼š

| è„šæœ¬åç§° | ç”¨é€” | ä½•æ—¶ä½¿ç”¨ |
|---------|------|---------|
| `deploy_frontend.sh` | éƒ¨ç½²å‰ç«¯ | ä¿®æ”¹äº† `memoir-app/src` ä¸‹çš„å‰ç«¯ä»£ç  |
| `deploy_backend.sh` | éƒ¨ç½²åç«¯ | ä¿®æ”¹äº† `backend/src` ä¸‹çš„åç«¯ä»£ç  |

**é‡è¦æç¤ºï¼š**
- å¦‚æœåªä¿®æ”¹äº†å‰ç«¯ï¼Œåªéœ€è¿è¡Œå‰ç«¯éƒ¨ç½²è„šæœ¬
- å¦‚æœåªä¿®æ”¹äº†åç«¯ï¼Œåªéœ€è¿è¡Œåç«¯éƒ¨ç½²è„šæœ¬
- å¦‚æœä¸¤è€…éƒ½ä¿®æ”¹äº†ï¼Œéœ€è¦åˆ†åˆ«è¿è¡Œä¸¤ä¸ªè„šæœ¬

---

## ğŸ¨ å‰ç«¯éƒ¨ç½²

### ä½¿ç”¨åœºæ™¯
å½“ä½ ä¿®æ”¹äº†ä»¥ä¸‹æ–‡ä»¶æ—¶éœ€è¦éƒ¨ç½²å‰ç«¯ï¼š
- `memoir-app/src/pages/**/*.vue` - é¡µé¢ç»„ä»¶
- `memoir-app/src/components/**/*.vue` - å…¬å…±ç»„ä»¶
- `memoir-app/src/utils/**/*.js` - å·¥å…·å‡½æ•°
- `memoir-app/src/App.vue` - ä¸»åº”ç”¨
- `memoir-app/src/pages.json` - é¡µé¢é…ç½®

### è¿è¡Œå‘½ä»¤

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½• /Users/Zhuanz1/Desktop/memoir ä¸‹è¿è¡Œ
./deploy_frontend.sh
```

### éƒ¨ç½²æµç¨‹

```
[1/5] æ£€æŸ¥å·¥å…·
  â””â”€ æ£€æŸ¥ sshpass æ˜¯å¦å®‰è£…
  
[2/5] è¿›å…¥å‰ç«¯ç›®å½•
  â””â”€ cd memoir-app
  
[3/5] æ„å»ºå‰ç«¯é¡¹ç›®
  â””â”€ npm run build:h5
  â””â”€ è¾“å‡ºç›®å½•: dist/build/h5/
  
[4/5] ä¸Šä¼ åˆ°æœåŠ¡å™¨
  â””â”€ rsync åŒæ­¥æ–‡ä»¶åˆ° /opt/AI_MEMOIR/frontend/
  â””â”€ --delete åˆ é™¤æœåŠ¡å™¨ä¸Šå¤šä½™çš„æ–‡ä»¶
  
[5/5] ä¸Šä¼ è°ƒè¯•é¡µé¢
  â””â”€ debug_recording.html
  â””â”€ test_aliyun_speech.html
```

### é¢„è®¡è€—æ—¶
- æ„å»ºæ—¶é—´ï¼šçº¦ 30-60 ç§’
- ä¸Šä¼ æ—¶é—´ï¼šçº¦ 10-30 ç§’
- **æ€»è®¡ï¼šçº¦ 1-2 åˆ†é’Ÿ**

### éƒ¨ç½²åè®¿é—®
- ä¸»é¡µé¢: https://103.146.125.208
- è°ƒè¯•é¡µé¢: https://103.146.125.208/debug_recording.html

---

## âš™ï¸ åç«¯éƒ¨ç½²

### ä½¿ç”¨åœºæ™¯
å½“ä½ ä¿®æ”¹äº†ä»¥ä¸‹æ–‡ä»¶æ—¶éœ€è¦éƒ¨ç½²åç«¯ï¼š
- `backend/src/app.js` - ä¸»åº”ç”¨
- `backend/src/controllers/**/*.js` - æ§åˆ¶å™¨
- `backend/src/routes/**/*.js` - è·¯ç”±
- `backend/src/models/**/*.js` - æ•°æ®æ¨¡å‹
- `backend/src/middleware/**/*.js` - ä¸­é—´ä»¶
- `backend/src/utils/**/*.js` - å·¥å…·å‡½æ•°
- `backend/package.json` - ä¾èµ–é…ç½®

### è¿è¡Œå‘½ä»¤

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½• /Users/Zhuanz1/Desktop/memoir ä¸‹è¿è¡Œ
./deploy_backend.sh
```

### éƒ¨ç½²æµç¨‹

```
[1/6] æ£€æŸ¥å·¥å…·
  â””â”€ æ£€æŸ¥ sshpass æ˜¯å¦å®‰è£…
  
[2/6] ä¸Šä¼ ä»£ç 
  â””â”€ rsync åŒæ­¥ backend/ åˆ°æœåŠ¡å™¨
  â””â”€ æ’é™¤: node_modules, database.sqlite, uploads
  
[3/6] é‡æ–°å®‰è£…ä¾èµ–
  â””â”€ åœ¨æœåŠ¡å™¨ä¸Šåˆ é™¤ node_modules
  â””â”€ è¿è¡Œ npm install
  â””â”€ ç¡®ä¿ sqlite3 ç­‰åŸç”Ÿæ¨¡å—æ­£ç¡®ç¼–è¯‘
  
[4/6] åœæ­¢æ—§æœåŠ¡
  â””â”€ pm2 stop memoir-backend
  â””â”€ pm2 delete memoir-backend
  
[5/6] å¯åŠ¨æ–°æœåŠ¡
  â””â”€ pm2 start src/app.js --name memoir-backend
  â””â”€ pm2 save (ä¿å­˜è¿›ç¨‹åˆ—è¡¨)
  
[6/6] æ£€æŸ¥çŠ¶æ€
  â””â”€ pm2 list (æ˜¾ç¤ºè¿›ç¨‹çŠ¶æ€)
  â””â”€ pm2 logs (æ˜¾ç¤ºæœ€è¿‘æ—¥å¿—)
```

### é¢„è®¡è€—æ—¶
- ä¸Šä¼ ä»£ç ï¼šçº¦ 5-10 ç§’
- å®‰è£…ä¾èµ–ï¼šçº¦ 30-60 ç§’
- é‡å¯æœåŠ¡ï¼šçº¦ 5-10 ç§’
- **æ€»è®¡ï¼šçº¦ 1-2 åˆ†é’Ÿ**

### éƒ¨ç½²åè®¿é—®
- APIåŸºç¡€åœ°å€: https://103.146.125.208/api
- å¥åº·æ£€æŸ¥: https://103.146.125.208/api/health

---

## ğŸ” å·¥ä½œåŸç†

### å‰ç«¯éƒ¨ç½²åŸç†

```
æœ¬åœ°å¼€å‘æœº                     æœåŠ¡å™¨
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
memoir-app/src/               /opt/AI_MEMOIR/frontend/
    â”œâ”€â”€ pages/                    â”œâ”€â”€ index.html
    â”œâ”€â”€ components/               â”œâ”€â”€ static/
    â””â”€â”€ utils/                    â”œâ”€â”€ css/
         â†“                        â””â”€â”€ js/
    npm run build:h5
         â†“
    dist/build/h5/
         â†“
    rsync ä¸Šä¼  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’ Nginx æœåŠ¡
                                      â†“
                              ç”¨æˆ·è®¿é—® https://IP
```

**å…³é”®ç‚¹ï¼š**
1. **æ„å»ºæ­¥éª¤**ï¼šå°† Vue ä»£ç ç¼–è¯‘æˆé™æ€ HTML/CSS/JS
2. **rsync åŒæ­¥**ï¼šå¢é‡ä¸Šä¼ ï¼Œåªä¼ è¾“å˜åŒ–çš„æ–‡ä»¶
3. **Nginx æœåŠ¡**ï¼šç›´æ¥æä¾›é™æ€æ–‡ä»¶ï¼Œæ— éœ€é‡å¯
4. **--delete å‚æ•°**ï¼šç¡®ä¿æœåŠ¡å™¨æ–‡ä»¶å’Œæœ¬åœ°æ„å»ºä¸€è‡´

### åç«¯éƒ¨ç½²åŸç†

```
æœ¬åœ°å¼€å‘æœº                     æœåŠ¡å™¨
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
backend/src/                  /opt/AI_MEMOIR/backend/
    â”œâ”€â”€ app.js                    â”œâ”€â”€ src/
    â”œâ”€â”€ controllers/              â”œâ”€â”€ node_modules/ (é‡æ–°å®‰è£…)
    â”œâ”€â”€ models/                   â””â”€â”€ package.json
    â””â”€â”€ routes/                        â†“
         â†“                        npm install
    rsync ä¸Šä¼  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’         â†“
                              PM2 é‡å¯æœåŠ¡
                                      â†“
                              Node.js è¿è¡Œ
                                      â†“
                              ç›‘å¬ 3001 ç«¯å£
                                      â†“
                              Nginx åå‘ä»£ç† /api
                                      â†“
                              ç”¨æˆ·è®¿é—® https://IP/api
```

**å…³é”®ç‚¹ï¼š**
1. **æ’é™¤æ–‡ä»¶**ï¼šä¸ä¸Šä¼  node_modulesï¼ˆåœ¨æœåŠ¡å™¨é‡æ–°å®‰è£…ï¼‰
2. **ä¿ç•™æ•°æ®**ï¼šä¸è¦†ç›– database.sqlite å’Œ uploads ç›®å½•
3. **é‡æ–°å®‰è£…ä¾èµ–**ï¼šç¡®ä¿åŸç”Ÿæ¨¡å—ï¼ˆå¦‚ sqlite3ï¼‰æ­£ç¡®ç¼–è¯‘
4. **PM2 ç®¡ç†**ï¼šè‡ªåŠ¨é‡å¯ï¼Œå®ˆæŠ¤è¿›ç¨‹ï¼Œå´©æºƒè‡ªåŠ¨æ¢å¤
5. **Nginx ä»£ç†**ï¼š/api è¯·æ±‚è½¬å‘åˆ° 3001 ç«¯å£

---

## ğŸ—ï¸ æœåŠ¡å™¨æ¶æ„

```
                    ç”¨æˆ·æµè§ˆå™¨
                        â†“
                    (HTTPS)
                        â†“
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚   Nginx (ç«¯å£ 443)    â”‚
            â”‚  SSL è¯ä¹¦å¤„ç†         â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â†“                              â†“
  /api è¯·æ±‚                        å…¶ä»–è¯·æ±‚
         â†“                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ åå‘ä»£ç†åˆ°åç«¯   â”‚          â”‚ é™æ€æ–‡ä»¶æœåŠ¡     â”‚
â”‚ localhost:3001  â”‚          â”‚ /opt/AI_MEMOIR/ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚     frontend/   â”‚
         â†“                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PM2 è¿›ç¨‹ç®¡ç†     â”‚
â”‚  memoir-backend â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Node.js åº”ç”¨    â”‚
â”‚  Express + API  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SQLite æ•°æ®åº“   â”‚
â”‚ database.sqlite â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“– è¯¦ç»†æŠ€æœ¯è¯´æ˜

### rsync å‘½ä»¤è§£æ

#### å‰ç«¯éƒ¨ç½²ä¸­çš„ rsync
```bash
rsync -avz --delete \
    -e "sshpass -p PASSWORD ssh -o 'StrictHostKeyChecking=no'" \
    ./dist/build/h5/ \
    root@103.146.125.208:/opt/AI_MEMOIR/frontend/
```

**å‚æ•°è¯´æ˜ï¼š**
- `-a`ï¼šå½’æ¡£æ¨¡å¼ï¼Œä¿ç•™æƒé™ã€æ—¶é—´æˆ³ç­‰
- `-v`ï¼šè¯¦ç»†è¾“å‡º
- `-z`ï¼šä¼ è¾“æ—¶å‹ç¼©
- `--delete`ï¼šåˆ é™¤ç›®æ ‡ç›®å½•ä¸­æºç›®å½•æ²¡æœ‰çš„æ–‡ä»¶
- `-e`ï¼šæŒ‡å®šè¿œç¨‹ shellï¼ˆä½¿ç”¨ sshpass è‡ªåŠ¨è¾“å…¥å¯†ç ï¼‰

#### åç«¯éƒ¨ç½²ä¸­çš„ rsync
```bash
rsync -avz \
    --exclude 'node_modules' \
    --exclude 'database.sqlite' \
    --exclude 'uploads' \
    -e "sshpass -p PASSWORD ssh" \
    ./backend/ \
    root@103.146.125.208:/opt/AI_MEMOIR/backend/
```

**æ’é™¤è¯´æ˜ï¼š**
- `node_modules`ï¼šåœ¨æœåŠ¡å™¨ä¸Šé‡æ–°å®‰è£…ï¼Œç¡®ä¿åŸç”Ÿæ¨¡å—å…¼å®¹
- `database.sqlite`ï¼šä¿ç•™æœåŠ¡å™¨ä¸Šçš„æ•°æ®åº“ï¼Œé¿å…æ•°æ®ä¸¢å¤±
- `uploads`ï¼šä¿ç•™ç”¨æˆ·ä¸Šä¼ çš„æ–‡ä»¶

### PM2 è¿›ç¨‹ç®¡ç†

**ä¸ºä»€ä¹ˆä½¿ç”¨ PM2ï¼Ÿ**
1. **å®ˆæŠ¤è¿›ç¨‹**ï¼šåå°è¿è¡Œï¼ŒSSH æ–­å¼€åç»§ç»­è¿è¡Œ
2. **è‡ªåŠ¨é‡å¯**ï¼šå´©æºƒåè‡ªåŠ¨é‡å¯
3. **æ—¥å¿—ç®¡ç†**ï¼šè‡ªåŠ¨è®°å½•å’Œè½®è½¬æ—¥å¿—
4. **é›¶åœæœºé‡å¯**ï¼šä½¿ç”¨ `pm2 reload` å¯ä»¥å®ç°é›¶åœæœºæ›´æ–°

**å¸¸ç”¨ PM2 å‘½ä»¤ï¼š**
```bash
# æŸ¥çœ‹æ‰€æœ‰è¿›ç¨‹
pm2 list

# æŸ¥çœ‹å®æ—¶æ—¥å¿—
pm2 logs memoir-backend

# é‡å¯æœåŠ¡
pm2 restart memoir-backend

# åœæ­¢æœåŠ¡
pm2 stop memoir-backend

# åˆ é™¤æœåŠ¡
pm2 delete memoir-backend
```

### Nginx é…ç½®è¯´æ˜

**å‰ç«¯é™æ€æ–‡ä»¶é…ç½®ï¼š**
```nginx
location / {
    root /opt/AI_MEMOIR/frontend;
    try_files $uri $uri/ /index.html;
}
```
- ç›´æ¥æœåŠ¡é™æ€æ–‡ä»¶
- SPA è·¯ç”±æ”¯æŒï¼ˆæ‰€æœ‰è·¯å¾„éƒ½è¿”å› index.htmlï¼‰

**åç«¯ API ä»£ç†é…ç½®ï¼š**
```nginx
location /api/ {
    proxy_pass http://localhost:3001/api/;
    proxy_http_version 1.1;
    proxy_set_header Upgrade $http_upgrade;
    proxy_set_header Connection 'upgrade';
    proxy_set_header Host $host;
    proxy_cache_bypass $http_upgrade;
}
```
- åå‘ä»£ç†åˆ° Node.js åº”ç”¨
- æ”¯æŒ WebSocket å‡çº§
- ä¿ç•™åŸå§‹è¯·æ±‚å¤´

---

## â“ å¸¸è§é—®é¢˜

### 1. sshpass æœªå®‰è£…

**é”™è¯¯ä¿¡æ¯ï¼š**
```
âŒ é”™è¯¯ï¼šsshpass æœªå®‰è£…
```

**è§£å†³æ–¹æ³•ï¼š**
```bash
brew install sshpass
```

### 2. å‰ç«¯æ„å»ºå¤±è´¥

**é”™è¯¯ä¿¡æ¯ï¼š**
```
âŒ å‰ç«¯æ„å»ºå¤±è´¥
```

**å¯èƒ½åŸå› ï¼š**
- ä»£ç è¯­æ³•é”™è¯¯
- ä¾èµ–æœªå®‰è£…

**è§£å†³æ–¹æ³•ï¼š**
```bash
cd memoir-app
npm install  # é‡æ–°å®‰è£…ä¾èµ–
npm run build:h5  # å•ç‹¬æµ‹è¯•æ„å»º
```

### 3. åç«¯ä¾èµ–å®‰è£…å¤±è´¥

**é”™è¯¯ä¿¡æ¯ï¼š**
```
âŒ ä¾èµ–å®‰è£…å¤±è´¥
```

**å¯èƒ½åŸå› ï¼š**
- æœåŠ¡å™¨ç£ç›˜ç©ºé—´ä¸è¶³
- npm ä»“åº“è¿æ¥é—®é¢˜

**è§£å†³æ–¹æ³•ï¼š**
```bash
# SSH åˆ°æœåŠ¡å™¨
ssh root@103.146.125.208

# æ£€æŸ¥ç£ç›˜ç©ºé—´
df -h

# æ¸…ç† npm ç¼“å­˜
npm cache clean --force

# æ‰‹åŠ¨å®‰è£…
cd /opt/AI_MEMOIR/backend
rm -rf node_modules package-lock.json
npm install
```

### 4. åç«¯æœåŠ¡å¯åŠ¨å¤±è´¥

**é”™è¯¯ä¿¡æ¯ï¼š**
```
âŒ æœåŠ¡å¯åŠ¨å¤±è´¥
```

**æ’æŸ¥æ­¥éª¤ï¼š**
```bash
# SSH åˆ°æœåŠ¡å™¨
ssh root@103.146.125.208

# æŸ¥çœ‹ PM2 æ—¥å¿—
pm2 logs memoir-backend

# å°è¯•æ‰‹åŠ¨å¯åŠ¨ï¼ˆæŸ¥çœ‹è¯¦ç»†é”™è¯¯ï¼‰
cd /opt/AI_MEMOIR/backend
node src/app.js
```

### 5. éƒ¨ç½²åé¡µé¢ä¸æ›´æ–°

**å¯èƒ½åŸå› ï¼š**
- æµè§ˆå™¨ç¼“å­˜

**è§£å†³æ–¹æ³•ï¼š**
- ç¡¬åˆ·æ–°ï¼š`Ctrl + Shift + R` (Windows) æˆ– `Cmd + Shift + R` (Mac)
- æ¸…é™¤æµè§ˆå™¨ç¼“å­˜
- ä½¿ç”¨æ— ç—•æ¨¡å¼æµ‹è¯•

### 6. API è¯·æ±‚å¤±è´¥

**æ’æŸ¥æ­¥éª¤ï¼š**
```bash
# 1. æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦è¿è¡Œ
ssh root@103.146.125.208
pm2 list

# 2. æ£€æŸ¥åç«¯æ—¥å¿—
pm2 logs memoir-backend

# 3. æµ‹è¯•åç«¯ç›´æ¥è®¿é—®
curl http://localhost:3001/api/health

# 4. æ£€æŸ¥ Nginx é…ç½®
nginx -t
systemctl status nginx
```

---

## ğŸš€ å¿«é€Ÿå‚è€ƒ

### å‰ç«¯éƒ¨ç½²ï¼ˆ1 åˆ†é’Ÿï¼‰
```bash
./deploy_frontend.sh
```
âœ… è®¿é—®ï¼šhttps://103.146.125.208

### åç«¯éƒ¨ç½²ï¼ˆ2 åˆ†é’Ÿï¼‰
```bash
./deploy_backend.sh
```
âœ… æµ‹è¯•ï¼šhttps://103.146.125.208/api/health

### å®Œæ•´éƒ¨ç½²ï¼ˆ3 åˆ†é’Ÿï¼‰
```bash
./deploy_frontend.sh
./deploy_backend.sh
```

---

## ğŸ“ æ³¨æ„äº‹é¡¹

### âš ï¸ é‡è¦è­¦å‘Š

1. **ä¸è¦**åœ¨ç”Ÿäº§ç¯å¢ƒç›´æ¥ä¿®æ”¹ä»£ç 
   - å§‹ç»ˆåœ¨æœ¬åœ°ä¿®æ”¹ï¼Œæµ‹è¯•åå†éƒ¨ç½²

2. **ä¸è¦**æ‰‹åŠ¨åˆ é™¤æœåŠ¡å™¨ä¸Šçš„ `database.sqlite`
   - ä¼šå¯¼è‡´æ‰€æœ‰ç”¨æˆ·æ•°æ®ä¸¢å¤±

3. **ä¸è¦**æ‰‹åŠ¨åˆ é™¤æœåŠ¡å™¨ä¸Šçš„ `uploads` ç›®å½•
   - ä¼šå¯¼è‡´æ‰€æœ‰ä¸Šä¼ æ–‡ä»¶ä¸¢å¤±

4. **ä¸è¦**åœ¨éƒ¨ç½²è¿‡ç¨‹ä¸­ä¸­æ–­è„šæœ¬
   - å¯èƒ½å¯¼è‡´æœåŠ¡å¤„äºä¸ä¸€è‡´çŠ¶æ€

### âœ… æœ€ä½³å®è·µ

1. **éƒ¨ç½²å‰å¤‡ä»½**
   ```bash
   ssh root@103.146.125.208
   cd /opt/AI_MEMOIR/backend
   cp database.sqlite database.sqlite.backup
   ```

2. **æµ‹è¯•åå†éƒ¨ç½²**
   - åœ¨æœ¬åœ°å……åˆ†æµ‹è¯•
   - ä½¿ç”¨ `npm run dev` ç¡®ä¿åŠŸèƒ½æ­£å¸¸

3. **æŸ¥çœ‹éƒ¨ç½²æ—¥å¿—**
   - éƒ¨ç½²åæ£€æŸ¥ PM2 æ—¥å¿—
   - ç¡®è®¤æ²¡æœ‰é”™è¯¯ä¿¡æ¯

4. **å¢é‡æ›´æ–°**
   - å°æ­¥å¿«è·‘ï¼Œé¢‘ç¹éƒ¨ç½²
   - æ¯æ¬¡åªæ”¹å°‘é‡ä»£ç 

---

## ğŸ› ï¸ è„šæœ¬ç»´æŠ¤

å¦‚æœéœ€è¦ä¿®æ”¹æœåŠ¡å™¨é…ç½®ï¼ˆIPã€å¯†ç ç­‰ï¼‰ï¼Œç¼–è¾‘è„šæœ¬ä¸­çš„å˜é‡ï¼š

```bash
# åœ¨è„šæœ¬å¼€å¤´
SERVER_IP="103.146.125.208"
SERVER_USER="root"
SERVER_PASSWORD="bmk733kd"
BACKEND_PATH="/opt/AI_MEMOIR/backend"
FRONTEND_PATH="/opt/AI_MEMOIR/frontend"
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [åç«¯ API æ–‡æ¡£](backend/README.md)
- [æœåŠ¡å™¨é…ç½®æŒ‡å—](setup_server.sh)
- [HTTPS é…ç½®æŒ‡å—](setup_https.sh)
- [æœåŠ¡å™¨ç›‘æ§è„šæœ¬](server_monitor.sh)

---

**æœ€åæ›´æ–°ï¼š** 2025-10-01  
**ç»´æŠ¤è€…ï¼š** AI Assistant


