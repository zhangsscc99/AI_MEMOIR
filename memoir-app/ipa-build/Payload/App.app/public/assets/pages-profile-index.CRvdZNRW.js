import{c as s,w as e,y as t,A as a,q as i,n as l,g as o,i as n,o as c,a as u,b as r,e as d,d as g,h as f,t as m,m as p,k as h,F as _,l as k}from"./index-DQU_JAH0.js";import{g as L}from"./imageMapping.mDgfjL7P.js";import{_ as v}from"./_plugin-vue_export-helper.BCo6x5W8.js";const b=v({data:()=>({user:{},isLoggedIn:!1,menuList:[{id:"shopping",title:"我的购物"},{id:"orders",title:"我的订单"},{id:"support",title:"客服支持"},{id:"feedback",title:"意见反馈"},{id:"share",title:"分享应用"},{id:"business",title:"商务合作"},{id:"logout",title:"退出登录"}]}),computed:{displayMenuList(){return this.isLoggedIn?this.menuList:this.menuList.filter(s=>"logout"!==s.id)}},onShow(){this.checkLoginStatus()},methods:{getOptimalImagePath:L,checkLoginStatus(){const s=o("token"),e=o("user");s&&e?(this.isLoggedIn=!0,this.user=e):(this.isLoggedIn=!1,this.user={})},goToLogin(){l({url:"/pages/login/index"})},goToRegister(){l({url:"/pages/register/index"})},handleMenuClick(s){"logout"===s.id?this.handleLogout():i({title:`点击了${s.title}`,icon:"none"})},handleLogout(){t({title:"确认退出",content:"确定要退出登录吗？",success:s=>{s.confirm&&(a("token"),a("user"),this.isLoggedIn=!1,this.user={},i({title:"已退出登录",icon:"success"}))}})},getMenuIcon:s=>({shopping:"/static/icons/shopping.svg",orders:"/static/icons/orders.svg",support:"/static/icons/support.svg",feedback:"/static/icons/feedback.svg",share:"/static/icons/share.svg",business:"/static/icons/business.svg",logout:"/static/icons/user.svg"}[s]||"")}},[["render",function(t,a,i,l,o,L){const v=r,b=d,I=f,C=n;return c(),s(C,{class:"container"},{default:e(()=>[u(C,{class:"main-content"},{default:e(()=>[o.isLoggedIn?(c(),s(C,{key:1,class:"profile-section"},{default:e(()=>[u(C,{class:"user-header"},{default:e(()=>[u(v,{src:L.getOptimalImagePath(o.user.avatar||"/src/images/zaomen.jpeg"),class:"avatar",mode:"aspectFill"},null,8,["src"]),u(C,{class:"user-details"},{default:e(()=>[u(b,{class:"user-name"},{default:e(()=>[g("Hi~ "+m(o.user.nickname||o.user.username),1)]),_:1}),u(b,{class:"user-id"},{default:e(()=>[g("ID: "+m(o.user.id.substring(0,12)),1)]),_:1})]),_:1}),u(C,{class:p(["user-badge",{vip:o.user.is_vip}])},{default:e(()=>[u(b,{class:"badge-text"},{default:e(()=>[g(m(o.user.is_vip?"会员用户":"普通用户"),1)]),_:1})]),_:1},8,["class"])]),_:1}),u(C,{class:"menu-list"},{default:e(()=>[(c(!0),h(_,null,k(L.displayMenuList,(t,a)=>(c(),s(C,{class:"menu-item",key:a,onClick:s=>L.handleMenuClick(t)},{default:e(()=>[u(v,{src:L.getMenuIcon(t.id),class:"menu-icon",mode:"aspectFit"},null,8,["src"]),u(b,{class:"menu-text"},{default:e(()=>[g(m(t.title),1)]),_:2},1024),u(b,{class:"menu-arrow"},{default:e(()=>[g(">")]),_:1})]),_:2},1032,["onClick"]))),128))]),_:1}),u(C,{class:"footer-links"},{default:e(()=>[u(b,{class:"footer-link"},{default:e(()=>[g("用户服务协议")]),_:1}),u(b,{class:"footer-link"},{default:e(()=>[g("隐私政策")]),_:1})]),_:1})]),_:1})):(c(),s(C,{key:0,class:"welcome-section"},{default:e(()=>[u(v,{src:L.getOptimalImagePath("/src/images/zaomen.jpeg"),class:"avatar",mode:"aspectFill"},null,8,["src"]),u(b,{class:"welcome-title"},{default:e(()=>[g("欢迎使用岁月镜像")]),_:1}),u(b,{class:"welcome-subtitle"},{default:e(()=>[g("请登录以访问您的个人空间")]),_:1}),u(C,{class:"auth-buttons"},{default:e(()=>[u(I,{class:"auth-btn",onClick:L.goToLogin},{default:e(()=>[g("登录")]),_:1},8,["onClick"]),u(I,{class:"auth-btn",onClick:L.goToRegister},{default:e(()=>[g("注册")]),_:1},8,["onClick"])]),_:1}),u(C,{class:"footer-links"},{default:e(()=>[u(b,{class:"footer-link"},{default:e(()=>[g("用户服务协议")]),_:1}),u(b,{class:"footer-link"},{default:e(()=>[g("隐私政策")]),_:1})]),_:1})]),_:1}))]),_:1})]),_:1})}],["__scopeId","data-v-a4e327f1"]]);export{b as default};
